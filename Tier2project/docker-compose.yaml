version: "3"

services:
    frontend:
      container_name: frontend
      image: nginx:latest
      volumes:
        - ./frontend/index.html:/usr/share/nginx/html/index.html
        - ./frontend/default.conf:/etc/nginx/conf.d/default.conf
      ports:
        - "80:80"
      networks:
        - frontendnk
      depends_on:
        - api
    api:
      container_name: api
      image: nginx:latest
      volumes:
        - ./api/index.html:/usr/share/nginx/html/index.html
        - ./api/default.conf:/etc/nginx/conf.d/default.conf
      networks:
        - frontendnk
        - backendnk
      depends_on:
        -  backend
    backend:
      build: ./backend
      container_name: backend
      networks:
        - backendnk   
networks:
   frontendnk:
       driver: bridge
   backendnk:
       driver: bridge
 

 
